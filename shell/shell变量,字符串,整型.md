# shell变量,字符串,整型

## 变量的定义

shell使用declare命令来显示定义变量，declare语法如下：

declare [-afirx][shell变量]

参数说明：

参数    | 功能
------ | -------
-a | 显示或者设置数组变量
-f | 仅仅使用函数名
-i | 显示或者设置整型变量
-r | 定义只读类型的shell变量
-x | 定义shell变量，并将其输出为环境变量

该指令若不带任何参数选项，则会显示所有shell变量及其值。

该指令的功能与指令"typeset"的功能是相同的。

## 变量
shell变量是一种很“弱”的变量，默认情况下，一个变量保存一个串，shell不关心这个串是什么含义。所以若要进行数学运算，必须使用一些命令例如let、declare、expr、双括号等。shell变量可分为两类：局部变量和环境变量。局部变量只在创建它们的shell中可用。而环境变量则可以在创建它们的shell及其派生出来的任意子进程中使用。有些变量是用户创建的，其他的则是专用shell变量。变量名必须以字母或下划线字符开头。其余的字符可以是字母、数字(0~9)或下划线字符。任何其他的字符都标志着变量名的终止。名字是大小写敏感的。给变量赋值时，等号周围不能有任何空白符。为了给变量赋空值，可以在等号后跟一个换行符。用set命令可以查看所有的变量，unset var命令可以清除变量var，var相当于没有定义过。readonly var可以把var变为只读变量，定义之后不能对var进行任何更改。对shell变量的引用方式很多，用这些方式可以方便的获取shell变量的值，变量值的长度，变量的一个字串，变量被部分替换后的值等等

### 整形变量

#### 计算
计算表达式分两种，一种是有返回结果，一种是没有返回结果，下面根据一例子说明：

```
\#!/bin/bash

a=1
a=$(($a+1))  #将计算结果返回给外面的变量
a=$[$a+1]   #将计算结果返回给外面的变量
a=`expr $a + 1`  #将计算结果返回给外面的变量
let a++      #无返回，直接在运算符里面计算
let a+=1     #无返回，直接在运算符里面计算
((a++))      #无返回，直接在运算符里面计算
((a=a+1))    #无返回，直接在运算符中计算
echo $a
```

#### 判断

操作 | 描述
----- | -----
-eq  | 等于
-ne  | 不等于
-lt  | 小于
-le  | 小于等于
-gt  | 大于
-ge  | 大于等于

如果使用 ((...))这种方式来做判断，可以使用>,>=,<,<=运算符

```
b=10
if (( i>10 ))
then
    echo "b > 10"
else
    echo "b<=10"
fi

for (( i=1; i <= 9 ; i++ ))
do
    for (( j=1 ; j <= 9 ; j++ ))
    do
        echo -ne "$(( j * i ))\t"
    done
    echo
done
```

## 参考
* http://www.cnblogs.com/barrychiao/archive/2012/10/22/2733210.html